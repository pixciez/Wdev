import React, { useState, useEffect } from 'react';
import { Bell, Shield, AlertTriangle, Activity, Clock, Database, Users, Lock, Eye, BarChart2 } from 'lucide-react';
import { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts';

const SecurityDashboard = () => {
  const [selectedTab, setSelectedTab] = useState('overview');
  const [animatedCount, setAnimatedCount] = useState(0);
  
  // Simulated data
  const analyticsData = [
    { name: 'Jan', threats: 65, resolved: 45 },
    { name: 'Feb', threats: 59, resolved: 50 },
    { name: 'Mar', threats: 80, resolved: 75 },
    { name: 'Apr', threats: 81, resolved: 70 },
    { name: 'May', threats: 56, resolved: 48 },
    { name: 'Jun', threats: 55, resolved: 45 },
    { name: 'Jul', threats: 40, resolved: 35 },
  ];

  const recentAlerts = [
    { id: 1, type: 'high', message: 'Unauthorized access attempt detected', time: '2 mins ago' },
    { id: 2, type: 'medium', message: 'Unusual network activity observed', time: '15 mins ago' },
    { id: 3, type: 'low', message: 'System update required', time: '1 hour ago' },
  ];

  useEffect(() => {
    const interval = setInterval(() => {
      setAnimatedCount(prev => (prev < 98 ? prev + 1 : 98));
    }, 20);
    return () => clearInterval(interval);
  }, []);

  const getAlertColor = (type) => {
    switch(type) {
      case 'high': return 'bg-red-100 text-red-800';
      case 'medium': return 'bg-yellow-100 text-yellow-800';
      case 'low': return 'bg-blue-100 text-blue-800';
      default: return 'bg-gray-100 text-gray-800';
    }
  };

  return (
    